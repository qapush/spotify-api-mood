window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("form"),t=e.querySelector("input"),n=document.querySelector(".result"),s=["hit the road","happy","chill","sad","work","happy","cheerful","calm","angry","excited","broken heart","in love","sex","jogging","workout","game","dance","party","hangover","420","coding","country","sounds of nature","meditation","disco polo","learning","rock","romantic","soul","jazz","flamenco","hip hop","rap"];!function(){const e=Math.floor(Math.random()*Math.floor(s.length));t.value=s[e]}(),e.addEventListener("submit",(s=>{s.preventDefault();const a=new XMLHttpRequest,o=btoa("c6c984025b5f4c229fcb488d03599144:28a83e3e811942ca9c16fab9b8f7e340");a.open("POST","https://accounts.spotify.com/api/token?grant_type=client_credentials"),a.setRequestHeader("Authorization",`Basic ${o}`),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(),a.addEventListener("load",(()=>{if(200===a.status){const s=new XMLHttpRequest,o=JSON.parse(a.response).access_token,r=t.value;s.open("GET",`https://api.spotify.com/v1/search?q=${r}&type=playlist`),s.setRequestHeader("Authorization",`Bearer ${o}`),s.send(),s.addEventListener("load",(()=>{if(200===s.status){const t=JSON.parse(s.response).playlists.items;console.dir(t),n.innerHTML="",e.reset(),t.forEach((e=>{n.innerHTML+=`\n                        <div class="result__row">\n                            <div class="result__item">\n                                <div class="result__cover">\n                                    <img src="${e.images[0].url}" alt="">\n                                </div>\n                                <div class="result__description">\n                                    <h2>${e.name}</h2>\n                                    <hr>\n                                    <div class="item__links">\n                                        <a href="${e.external_urls.spotify}" class="link__web" target="_blank">Listen in browser</a> / \n                                        <a href="${e.uri}" class="link__app" target="_blank">Listen in Spotify</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        `}))}}))}}))}))}));
//# sourceMappingURL=app.js.map