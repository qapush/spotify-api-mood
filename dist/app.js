window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("form"),t=e.querySelector("input"),n=document.querySelector(".result");e.addEventListener("submit",(e=>{e.preventDefault();const s=new XMLHttpRequest,a=btoa("c6c984025b5f4c229fcb488d03599144:28a83e3e811942ca9c16fab9b8f7e340");s.open("POST","https://accounts.spotify.com/api/token?grant_type=client_credentials"),s.setRequestHeader("Authorization",`Basic ${a}`),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(),s.addEventListener("load",(()=>{if(200===s.status){const e=new XMLHttpRequest,a=JSON.parse(s.response).access_token,i=t.value;e.open("GET",`https://api.spotify.com/v1/search?q=${i}&type=playlist`),e.setRequestHeader("Authorization",`Bearer ${a}`),e.send(),e.addEventListener("load",(()=>{if(200===e.status){const t=JSON.parse(e.response).playlists.items;console.dir(t),n.innerHTML="",t.forEach((e=>{n.innerHTML+=`\n                        <div class="result__row">\n                            <div class="result__item">\n                                <div class="result__cover">\n                                    <img src="${e.images[0].url}" alt="">\n                                </div>\n                                <div class="result__description">\n                                    <h2>${e.name}</h2>\n                                    <hr>\n                                    <div class="item__links">\n                                        <a href="${e.external_urls.spotify}" class="link__web" target="_blank">Listen in browser</a> / \n                                        <a href="${e.uri}" class="link__app" target="_blank">Listen in Spotify</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        `}))}}))}}))}))}));
//# sourceMappingURL=app.js.map